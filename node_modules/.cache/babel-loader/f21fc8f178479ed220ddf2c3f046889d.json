{"ast":null,"code":"import t from \"react-fast-compare\";\nimport e from \"invariant\";\nimport r from \"prop-types\";\nimport n, { Component as o } from \"react\";\nimport i from \"shallowequal\";\n\nvar a = {\n  BASE: \"base\",\n  BODY: \"body\",\n  HEAD: \"head\",\n  HTML: \"html\",\n  LINK: \"link\",\n  META: \"meta\",\n  NOSCRIPT: \"noscript\",\n  SCRIPT: \"script\",\n  STYLE: \"style\",\n  TITLE: \"title\",\n  FRAGMENT: \"Symbol(react.fragment)\"\n},\n    s = Object.keys(a).map(function (t) {\n  return a[t];\n}),\n    c = {\n  accesskey: \"accessKey\",\n  charset: \"charSet\",\n  class: \"className\",\n  contenteditable: \"contentEditable\",\n  contextmenu: \"contextMenu\",\n  \"http-equiv\": \"httpEquiv\",\n  itemprop: \"itemProp\",\n  tabindex: \"tabIndex\"\n},\n    u = Object.keys(c).reduce(function (t, e) {\n  return t[c[e]] = e, t;\n}, {}),\n    l = function (t, e) {\n  for (var r = t.length - 1; r >= 0; r -= 1) {\n    var n = t[r];\n    if (Object.prototype.hasOwnProperty.call(n, e)) return n[e];\n  }\n\n  return null;\n},\n    p = function (t) {\n  var e = l(t, a.TITLE),\n      r = l(t, \"titleTemplate\");\n  if (Array.isArray(e) && (e = e.join(\"\")), r && e) return r.replace(/%s/g, function () {\n    return e;\n  });\n  var n = l(t, \"defaultTitle\");\n  return e || n || void 0;\n},\n    f = function (t) {\n  return l(t, \"onChangeClientState\") || function () {};\n},\n    d = function (t, e) {\n  return e.filter(function (e) {\n    return void 0 !== e[t];\n  }).map(function (e) {\n    return e[t];\n  }).reduce(function (t, e) {\n    return Object.assign({}, t, e);\n  }, {});\n},\n    h = function (t, e) {\n  return e.filter(function (t) {\n    return void 0 !== t[a.BASE];\n  }).map(function (t) {\n    return t[a.BASE];\n  }).reverse().reduce(function (e, r) {\n    if (!e.length) for (var n = Object.keys(r), o = 0; o < n.length; o += 1) {\n      var i = n[o].toLowerCase();\n      if (-1 !== t.indexOf(i) && r[i]) return e.concat(r);\n    }\n    return e;\n  }, []);\n},\n    y = function (t, e, r) {\n  var n = {};\n  return r.filter(function (e) {\n    return !!Array.isArray(e[t]) || (void 0 !== e[t] && console && \"function\" == typeof console.warn && console.warn(\"Helmet: \" + t + ' should be of type \"Array\". Instead found type \"' + typeof e[t] + '\"'), !1);\n  }).map(function (e) {\n    return e[t];\n  }).reverse().reduce(function (t, r) {\n    var o = {};\n    r.filter(function (t) {\n      for (var r, i = Object.keys(t), a = 0; a < i.length; a += 1) {\n        var s = i[a],\n            c = s.toLowerCase();\n        -1 === e.indexOf(c) || \"rel\" === r && \"canonical\" === t[r].toLowerCase() || \"rel\" === c && \"stylesheet\" === t[c].toLowerCase() || (r = c), -1 === e.indexOf(s) || \"innerHTML\" !== s && \"cssText\" !== s && \"itemprop\" !== s || (r = s);\n      }\n\n      if (!r || !t[r]) return !1;\n      var u = t[r].toLowerCase();\n      return n[r] || (n[r] = {}), o[r] || (o[r] = {}), !n[r][u] && (o[r][u] = !0, !0);\n    }).reverse().forEach(function (e) {\n      return t.push(e);\n    });\n\n    for (var i = Object.keys(o), a = 0; a < i.length; a += 1) {\n      var s = i[a],\n          c = Object.assign({}, n[s], o[s]);\n      n[s] = c;\n    }\n\n    return t;\n  }, []).reverse();\n},\n    m = function (t) {\n  return Array.isArray(t) ? t.join(\"\") : t;\n},\n    T = [a.NOSCRIPT, a.SCRIPT, a.STYLE],\n    b = function (t, e) {\n  return void 0 === e && (e = !0), !1 === e ? String(t) : String(t).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n},\n    g = function (t) {\n  return Object.keys(t).reduce(function (e, r) {\n    var n = void 0 !== t[r] ? r + '=\"' + t[r] + '\"' : \"\" + r;\n    return e ? e + \" \" + n : n;\n  }, \"\");\n},\n    v = function (t, e) {\n  return void 0 === e && (e = {}), Object.keys(t).reduce(function (e, r) {\n    return e[c[r] || r] = t[r], e;\n  }, e);\n},\n    A = function (t, e, r) {\n  switch (t) {\n    case a.TITLE:\n      return {\n        toComponent: function () {\n          return r = v(e.titleAttributes, {\n            key: t = e.title,\n            \"data-rh\": !0\n          }), [n.createElement(a.TITLE, r, t)];\n          var t, r;\n        },\n        toString: function () {\n          return function (t, r, n, o) {\n            var i = g(e.titleAttributes),\n                a = m(r);\n            return i ? \"<\" + t + ' data-rh=\"true\" ' + i + \">\" + b(a, o) + \"</\" + t + \">\" : \"<\" + t + ' data-rh=\"true\">' + b(a, o) + \"</\" + t + \">\";\n          }(t, e.title, 0, r);\n        }\n      };\n\n    case \"bodyAttributes\":\n    case \"htmlAttributes\":\n      return {\n        toComponent: function () {\n          return v(e);\n        },\n        toString: function () {\n          return g(e);\n        }\n      };\n\n    default:\n      return {\n        toComponent: function () {\n          return function (t, e) {\n            return e.map(function (e, r) {\n              var o = {\n                key: r,\n                \"data-rh\": !0\n              };\n              return Object.keys(e).forEach(function (t) {\n                var r = c[t] || t;\n                \"innerHTML\" === r || \"cssText\" === r ? o.dangerouslySetInnerHTML = {\n                  __html: e.innerHTML || e.cssText\n                } : o[r] = e[t];\n              }), n.createElement(t, o);\n            });\n          }(t, e);\n        },\n        toString: function () {\n          return function (t, e, r) {\n            return e.reduce(function (e, n) {\n              var o = Object.keys(n).filter(function (t) {\n                return !(\"innerHTML\" === t || \"cssText\" === t);\n              }).reduce(function (t, e) {\n                var o = void 0 === n[e] ? e : e + '=\"' + b(n[e], r) + '\"';\n                return t ? t + \" \" + o : o;\n              }, \"\"),\n                  i = n.innerHTML || n.cssText || \"\",\n                  a = -1 === T.indexOf(t);\n              return e + \"<\" + t + ' data-rh=\"true\" ' + o + (a ? \"/>\" : \">\" + i + \"</\" + t + \">\");\n            }, \"\");\n          }(t, e, r);\n        }\n      };\n  }\n},\n    O = function (t) {\n  var e = t.bodyAttributes,\n      r = t.encode,\n      n = t.htmlAttributes,\n      o = t.linkTags,\n      i = t.metaTags,\n      s = t.noscriptTags,\n      c = t.scriptTags,\n      u = t.styleTags,\n      l = t.title;\n  void 0 === l && (l = \"\");\n  var p = t.titleAttributes;\n  return {\n    base: A(a.BASE, t.baseTag, r),\n    bodyAttributes: A(\"bodyAttributes\", e, r),\n    htmlAttributes: A(\"htmlAttributes\", n, r),\n    link: A(a.LINK, o, r),\n    meta: A(a.META, i, r),\n    noscript: A(a.NOSCRIPT, s, r),\n    script: A(a.SCRIPT, c, r),\n    style: A(a.STYLE, u, r),\n    title: A(a.TITLE, {\n      title: l,\n      titleAttributes: p\n    }, r)\n  };\n},\n    C = n.createContext({}),\n    j = r.shape({\n  setHelmet: r.func,\n  helmetInstances: r.shape({\n    get: r.func,\n    add: r.func,\n    remove: r.func\n  })\n}),\n    E = \"undefined\" != typeof document,\n    S = function (t) {\n  function e(r) {\n    var n = this;\n    t.call(this, r), this.instances = [], this.value = {\n      setHelmet: function (t) {\n        n.props.context.helmet = t;\n      },\n      helmetInstances: {\n        get: function () {\n          return n.instances;\n        },\n        add: function (t) {\n          n.instances.push(t);\n        },\n        remove: function (t) {\n          var e = n.instances.indexOf(t);\n          n.instances.splice(e, 1);\n        }\n      }\n    }, e.canUseDOM || (r.context.helmet = O({\n      baseTag: [],\n      bodyAttributes: {},\n      encodeSpecialCharacters: !0,\n      htmlAttributes: {},\n      linkTags: [],\n      metaTags: [],\n      noscriptTags: [],\n      scriptTags: [],\n      styleTags: [],\n      title: \"\",\n      titleAttributes: {}\n    }));\n  }\n\n  return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.render = function () {\n    return n.createElement(C.Provider, {\n      value: this.value\n    }, this.props.children);\n  }, e;\n}(o);\n\nS.canUseDOM = E, S.propTypes = {\n  context: r.shape({\n    helmet: r.shape()\n  }),\n  children: r.node.isRequired\n}, S.defaultProps = {\n  context: {}\n}, S.displayName = \"HelmetProvider\";\n\nvar I = function (t, e) {\n  var r,\n      n = document.head || document.querySelector(a.HEAD),\n      o = n.querySelectorAll(t + \"[data-rh]\"),\n      i = [].slice.call(o),\n      s = [];\n  return e && e.length && e.forEach(function (e) {\n    var n = document.createElement(t);\n\n    for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (\"innerHTML\" === o ? n.innerHTML = e.innerHTML : \"cssText\" === o ? n.styleSheet ? n.styleSheet.cssText = e.cssText : n.appendChild(document.createTextNode(e.cssText)) : n.setAttribute(o, void 0 === e[o] ? \"\" : e[o]));\n\n    n.setAttribute(\"data-rh\", \"true\"), i.some(function (t, e) {\n      return r = e, n.isEqualNode(t);\n    }) ? i.splice(r, 1) : s.push(n);\n  }), i.forEach(function (t) {\n    return t.parentNode.removeChild(t);\n  }), s.forEach(function (t) {\n    return n.appendChild(t);\n  }), {\n    oldTags: i,\n    newTags: s\n  };\n},\n    P = function (t, e) {\n  var r = document.getElementsByTagName(t)[0];\n\n  if (r) {\n    for (var n = r.getAttribute(\"data-rh\"), o = n ? n.split(\",\") : [], i = [].concat(o), a = Object.keys(e), s = 0; s < a.length; s += 1) {\n      var c = a[s],\n          u = e[c] || \"\";\n      r.getAttribute(c) !== u && r.setAttribute(c, u), -1 === o.indexOf(c) && o.push(c);\n      var l = i.indexOf(c);\n      -1 !== l && i.splice(l, 1);\n    }\n\n    for (var p = i.length - 1; p >= 0; p -= 1) r.removeAttribute(i[p]);\n\n    o.length === i.length ? r.removeAttribute(\"data-rh\") : r.getAttribute(\"data-rh\") !== a.join(\",\") && r.setAttribute(\"data-rh\", a.join(\",\"));\n  }\n},\n    L = function (t, e) {\n  var r = t.baseTag,\n      n = t.htmlAttributes,\n      o = t.linkTags,\n      i = t.metaTags,\n      s = t.noscriptTags,\n      c = t.onChangeClientState,\n      u = t.scriptTags,\n      l = t.styleTags,\n      p = t.title,\n      f = t.titleAttributes;\n  P(a.BODY, t.bodyAttributes), P(a.HTML, n), function (t, e) {\n    void 0 !== t && document.title !== t && (document.title = m(t)), P(a.TITLE, e);\n  }(p, f);\n  var d = {\n    baseTag: I(a.BASE, r),\n    linkTags: I(a.LINK, o),\n    metaTags: I(a.META, i),\n    noscriptTags: I(a.NOSCRIPT, s),\n    scriptTags: I(a.SCRIPT, u),\n    styleTags: I(a.STYLE, l)\n  },\n      h = {},\n      y = {};\n  Object.keys(d).forEach(function (t) {\n    var e = d[t],\n        r = e.newTags,\n        n = e.oldTags;\n    r.length && (h[t] = r), n.length && (y[t] = d[t].oldTags);\n  }), e && e(), c(t, h, y);\n},\n    x = null,\n    w = function (t) {\n  function e() {\n    for (var e = [], r = arguments.length; r--;) e[r] = arguments[r];\n\n    t.apply(this, e), this.rendered = !1;\n  }\n\n  return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.shouldComponentUpdate = function (t) {\n    return !i(t, this.props);\n  }, e.prototype.componentDidUpdate = function () {\n    this.emitChange();\n  }, e.prototype.componentWillUnmount = function () {\n    this.props.context.helmetInstances.remove(this), this.emitChange();\n  }, e.prototype.emitChange = function () {\n    var t,\n        e,\n        r = this.props.context,\n        n = r.setHelmet,\n        o = null,\n        i = (t = r.helmetInstances.get().map(function (t) {\n      var e = Object.assign({}, t.props);\n      return delete e.context, e;\n    }), {\n      baseTag: h([\"href\"], t),\n      bodyAttributes: d(\"bodyAttributes\", t),\n      defer: l(t, \"defer\"),\n      encode: l(t, \"encodeSpecialCharacters\"),\n      htmlAttributes: d(\"htmlAttributes\", t),\n      linkTags: y(a.LINK, [\"rel\", \"href\"], t),\n      metaTags: y(a.META, [\"name\", \"charset\", \"http-equiv\", \"property\", \"itemprop\"], t),\n      noscriptTags: y(a.NOSCRIPT, [\"innerHTML\"], t),\n      onChangeClientState: f(t),\n      scriptTags: y(a.SCRIPT, [\"src\", \"innerHTML\"], t),\n      styleTags: y(a.STYLE, [\"cssText\"], t),\n      title: p(t),\n      titleAttributes: d(\"titleAttributes\", t)\n    });\n    S.canUseDOM ? (e = i, x && cancelAnimationFrame(x), e.defer ? x = requestAnimationFrame(function () {\n      L(e, function () {\n        x = null;\n      });\n    }) : (L(e), x = null)) : O && (o = O(i)), n(o);\n  }, e.prototype.init = function () {\n    this.rendered || (this.rendered = !0, this.props.context.helmetInstances.add(this), this.emitChange());\n  }, e.prototype.render = function () {\n    return this.init(), null;\n  }, e;\n}(o);\n\nfunction H(t, e) {\n  var r = {};\n\n  for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && -1 === e.indexOf(n) && (r[n] = t[n]);\n\n  return r;\n}\n\nw.propTypes = {\n  context: j.isRequired\n}, w.displayName = \"HelmetDispatcher\";\n\nvar k = function (r) {\n  function o() {\n    r.apply(this, arguments);\n  }\n\n  return r && (o.__proto__ = r), (o.prototype = Object.create(r && r.prototype)).constructor = o, o.prototype.shouldComponentUpdate = function (e) {\n    return !t(this.props, e);\n  }, o.prototype.mapNestedChildrenToProps = function (t, e) {\n    if (!e) return null;\n\n    switch (t.type) {\n      case a.SCRIPT:\n      case a.NOSCRIPT:\n        return {\n          innerHTML: e\n        };\n\n      case a.STYLE:\n        return {\n          cssText: e\n        };\n\n      default:\n        throw new Error(\"<\" + t.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n    }\n  }, o.prototype.flattenArrayTypeChildren = function (t) {\n    var e,\n        r = t.child,\n        n = t.arrayTypeChildren;\n    return Object.assign({}, n, ((e = {})[r.type] = (n[r.type] || []).concat([Object.assign({}, t.newChildProps, this.mapNestedChildrenToProps(r, t.nestedChildren))]), e));\n  }, o.prototype.mapObjectTypeChildren = function (t) {\n    var e,\n        r,\n        n = t.child,\n        o = t.newProps,\n        i = t.newChildProps,\n        s = t.nestedChildren;\n\n    switch (n.type) {\n      case a.TITLE:\n        return Object.assign({}, o, ((e = {})[n.type] = s, e), {\n          titleAttributes: Object.assign({}, i)\n        });\n\n      case a.BODY:\n        return Object.assign({}, o, {\n          bodyAttributes: Object.assign({}, i)\n        });\n\n      case a.HTML:\n        return Object.assign({}, o, {\n          htmlAttributes: Object.assign({}, i)\n        });\n\n      default:\n        return Object.assign({}, o, ((r = {})[n.type] = Object.assign({}, i), r));\n    }\n  }, o.prototype.mapArrayTypeChildrenToProps = function (t, e) {\n    var r = Object.assign({}, e);\n    return Object.keys(t).forEach(function (e) {\n      var n;\n      r = Object.assign({}, r, ((n = {})[e] = t[e], n));\n    }), r;\n  }, o.prototype.warnOnInvalidChildren = function (t, r) {\n    return e(s.some(function (e) {\n      return t.type === e;\n    }), \"function\" == typeof t.type ? \"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\" : \"Only elements types \" + s.join(\", \") + \" are allowed. Helmet does not support rendering <\" + t.type + \"> elements. Refer to our API for more information.\"), e(!r || \"string\" == typeof r || Array.isArray(r) && !r.some(function (t) {\n      return \"string\" != typeof t;\n    }), \"Helmet expects a string as a child of <\" + t.type + \">. Did you forget to wrap your children in braces? ( <\" + t.type + \">{``}</\" + t.type + \"> ) Refer to our API for more information.\"), !0;\n  }, o.prototype.mapChildrenToProps = function (t, e) {\n    var r = this,\n        o = {};\n    return n.Children.forEach(t, function (t) {\n      if (t && t.props) {\n        var n = t.props,\n            i = n.children,\n            s = H(n, [\"children\"]),\n            c = Object.keys(s).reduce(function (t, e) {\n          return t[u[e] || e] = s[e], t;\n        }, {}),\n            l = t.type;\n\n        switch (\"symbol\" == typeof l ? l = l.toString() : r.warnOnInvalidChildren(t, i), l) {\n          case a.FRAGMENT:\n            e = r.mapChildrenToProps(i, e);\n            break;\n\n          case a.LINK:\n          case a.META:\n          case a.NOSCRIPT:\n          case a.SCRIPT:\n          case a.STYLE:\n            o = r.flattenArrayTypeChildren({\n              child: t,\n              arrayTypeChildren: o,\n              newChildProps: c,\n              nestedChildren: i\n            });\n            break;\n\n          default:\n            e = r.mapObjectTypeChildren({\n              child: t,\n              newProps: e,\n              newChildProps: c,\n              nestedChildren: i\n            });\n        }\n      }\n    }), this.mapArrayTypeChildrenToProps(o, e);\n  }, o.prototype.render = function () {\n    var t = this.props,\n        e = t.children,\n        r = H(t, [\"children\"]),\n        o = Object.assign({}, r);\n    return e && (o = this.mapChildrenToProps(e, o)), n.createElement(C.Consumer, null, function (t) {\n      return n.createElement(w, Object.assign({}, o, {\n        context: t\n      }));\n    });\n  }, o;\n}(o);\n\nk.propTypes = {\n  base: r.object,\n  bodyAttributes: r.object,\n  children: r.oneOfType([r.arrayOf(r.node), r.node]),\n  defaultTitle: r.string,\n  defer: r.bool,\n  encodeSpecialCharacters: r.bool,\n  htmlAttributes: r.object,\n  link: r.arrayOf(r.object),\n  meta: r.arrayOf(r.object),\n  noscript: r.arrayOf(r.object),\n  onChangeClientState: r.func,\n  script: r.arrayOf(r.object),\n  style: r.arrayOf(r.object),\n  title: r.string,\n  titleAttributes: r.object,\n  titleTemplate: r.string\n}, k.defaultProps = {\n  defer: !0,\n  encodeSpecialCharacters: !0\n}, k.displayName = \"Helmet\";\nexport { k as Helmet, S as HelmetProvider };","map":{"version":3,"sources":["../src/constants.js","../src/utils.js","../src/server.js","../src/Provider.js","../src/client.js","../src/Dispatcher.js","../src/index.js"],"names":["const","TAG_NAMES","BASE","BODY","HEAD","HTML","LINK","META","NOSCRIPT","SCRIPT","STYLE","TITLE","FRAGMENT","VALID_TAG_NAMES","Object","keys","map","name","REACT_TAG_MAP","accesskey","charset","class","contenteditable","contextmenu","itemprop","tabindex","HTML_TAG_MAP","reduce","obj","key","getInnermostProperty","propsList","property","let","i","length","props","prototype","hasOwnProperty","call","getTitleFromPropsList","innermostTitle","innermostTemplate","Array","isArray","join","replace","innermostDefaultTitle","undefined","getOnChangeClientState","getAttributesFromPropsList","tagType","filter","tagAttrs","current","getBaseTagFromPropsList","primaryAttributes","reverse","innermostBaseTag","tag","lowerCaseAttributeKey","toLowerCase","indexOf","concat","console","warn","getTagsFromPropsList","tagName","approvedSeenTags","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","value","forEach","push","tagUnion","baseTag","bodyAttributes","defer","encode","htmlAttributes","linkTags","metaTags","noscriptTags","onChangeClientState","scriptTags","styleTags","title","titleAttributes","flattenArray","possibleArray","SELF_CLOSING_TAGS","encodeSpecialCharacters","str","String","generateElementAttributesAsString","attributes","attr","type","attributeString","flattenedTitle","tags","attributeHtml","attribute","string","tagContent","innerHTML","cssText","isSelfClosing","convertElementAttributesToReactProps","initProps","React","createElement","mappedTag","mappedAttribute","dangerouslySetInnerHTML","__html","getMethodsForTag","toComponent","toString","generateTitleAsString","generateTagsAsReactComponent","generateTagsAsString","mapStateOnServer","base","link","meta","noscript","script","style","Context","createContext","providerShape","PropTypes","shape","setHelmet","func","helmetInstances","get","add","remove","canUseDOM","document","Provider","Component","propTypes","context","helmet","children","node","isRequired","defaultProps","displayName","instances","serverState","this","instance","index","splice","constructor","render","updateTags","headElement","head","querySelector","tagNodes","querySelectorAll","oldTags","slice","newTags","indexToDelete","newElement","styleSheet","appendChild","createTextNode","setAttribute","some","existingTag","isEqualNode","parentNode","removeChild","updateAttributes","elementTag","getElementsByTagName","helmetAttributeString","getAttribute","helmetAttributes","split","attributesToRemove","attributeKeys","indexToSave","removeAttribute","commitTagChanges","newState","cb","updateTitle","tagUpdates","addedTags","removedTags","_helmetCallback","cancelAnimationFrame","requestAnimationFrame","Dispatcher","rendered","shouldComponentUpdate","nextProps","shallowEqual","componentDidUpdate","emitChange","componentWillUnmount","state","init","Helmet","object","oneOfType","arrayOf","defaultTitle","bool","titleTemplate","fastCompare","mapNestedChildrenToProps","child","nestedChildren","Error","flattenArrayTypeChildren","arrayTypeChildren","mapObjectTypeChildren","newProps","newChildProps","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","warnOnInvalidChildren","invariant","nestedChild","mapChildrenToProps","Children","childProps","Consumer"],"mappings":"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","sourcesContent":["export const TAG_PROPERTIES = {\n  CHARSET: 'charset',\n  CSS_TEXT: 'cssText',\n  HREF: 'href',\n  HTTPEQUIV: 'http-equiv',\n  INNER_HTML: 'innerHTML',\n  ITEM_PROP: 'itemprop',\n  NAME: 'name',\n  PROPERTY: 'property',\n  REL: 'rel',\n  SRC: 'src',\n};\n\nexport const ATTRIBUTE_NAMES = {\n  BODY: 'bodyAttributes',\n  HTML: 'htmlAttributes',\n  TITLE: 'titleAttributes',\n};\n\nexport const TAG_NAMES = {\n  BASE: 'base',\n  BODY: 'body',\n  HEAD: 'head',\n  HTML: 'html',\n  LINK: 'link',\n  META: 'meta',\n  NOSCRIPT: 'noscript',\n  SCRIPT: 'script',\n  STYLE: 'style',\n  TITLE: 'title',\n  FRAGMENT: 'Symbol(react.fragment)',\n};\n\nexport const VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(name => TAG_NAMES[name]);\n\nexport const REACT_TAG_MAP = {\n  accesskey: 'accessKey',\n  charset: 'charSet',\n  class: 'className',\n  contenteditable: 'contentEditable',\n  contextmenu: 'contextMenu',\n  'http-equiv': 'httpEquiv',\n  itemprop: 'itemProp',\n  tabindex: 'tabIndex',\n};\n\nexport const HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce((obj, key) => {\n  // eslint-disable-next-line no-param-reassign\n  obj[REACT_TAG_MAP[key]] = key;\n  return obj;\n}, {});\n\nexport const HELMET_ATTRIBUTE = 'data-rh';\n","import { TAG_NAMES, TAG_PROPERTIES, ATTRIBUTE_NAMES } from './constants';\n\nconst HELMET_PROPS = {\n  DEFAULT_TITLE: 'defaultTitle',\n  DEFER: 'defer',\n  ENCODE_SPECIAL_CHARACTERS: 'encodeSpecialCharacters',\n  ON_CHANGE_CLIENT_STATE: 'onChangeClientState',\n  TITLE_TEMPLATE: 'titleTemplate',\n};\n\nconst getInnermostProperty = (propsList, property) => {\n  for (let i = propsList.length - 1; i >= 0; i -= 1) {\n    const props = propsList[i];\n\n    if (Object.prototype.hasOwnProperty.call(props, property)) {\n      return props[property];\n    }\n  }\n\n  return null;\n};\n\nconst getTitleFromPropsList = propsList => {\n  let innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n  const innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n  if (Array.isArray(innermostTitle)) {\n    innermostTitle = innermostTitle.join('');\n  }\n  if (innermostTemplate && innermostTitle) {\n    // use function arg to avoid need to escape $ characters\n    return innermostTemplate.replace(/%s/g, () => innermostTitle);\n  }\n\n  const innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n\n  return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nconst getOnChangeClientState = propsList =>\n  getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || (() => {});\n\nconst getAttributesFromPropsList = (tagType, propsList) =>\n  propsList\n    .filter(props => typeof props[tagType] !== 'undefined')\n    .map(props => props[tagType])\n    .reduce((tagAttrs, current) => ({ ...tagAttrs, ...current }), {});\n\nconst getBaseTagFromPropsList = (primaryAttributes, propsList) =>\n  propsList\n    .filter(props => typeof props[TAG_NAMES.BASE] !== 'undefined')\n    .map(props => props[TAG_NAMES.BASE])\n    .reverse()\n    .reduce((innermostBaseTag, tag) => {\n      if (!innermostBaseTag.length) {\n        const keys = Object.keys(tag);\n\n        for (let i = 0; i < keys.length; i += 1) {\n          const attributeKey = keys[i];\n          const lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n          if (\n            primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 &&\n            tag[lowerCaseAttributeKey]\n          ) {\n            return innermostBaseTag.concat(tag);\n          }\n        }\n      }\n\n      return innermostBaseTag;\n    }, []);\n\n// eslint-disable-next-line no-console\nconst warn = msg => console && typeof console.warn === 'function' && console.warn(msg);\n\nconst getTagsFromPropsList = (tagName, primaryAttributes, propsList) => {\n  // Calculate list of tags, giving priority innermost component (end of the propslist)\n  const approvedSeenTags = {};\n\n  return propsList\n    .filter(props => {\n      if (Array.isArray(props[tagName])) {\n        return true;\n      }\n      if (typeof props[tagName] !== 'undefined') {\n        warn(\n          `Helmet: ${tagName} should be of type \"Array\". Instead found type \"${typeof props[\n            tagName\n          ]}\"`\n        );\n      }\n      return false;\n    })\n    .map(props => props[tagName])\n    .reverse()\n    .reduce((approvedTags, instanceTags) => {\n      const instanceSeenTags = {};\n\n      instanceTags\n        .filter(tag => {\n          let primaryAttributeKey;\n          const keys = Object.keys(tag);\n          for (let i = 0; i < keys.length; i += 1) {\n            const attributeKey = keys[i];\n            const lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n            // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n            if (\n              primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 &&\n              !(\n                primaryAttributeKey === TAG_PROPERTIES.REL &&\n                tag[primaryAttributeKey].toLowerCase() === 'canonical'\n              ) &&\n              !(\n                lowerCaseAttributeKey === TAG_PROPERTIES.REL &&\n                tag[lowerCaseAttributeKey].toLowerCase() === 'stylesheet'\n              )\n            ) {\n              primaryAttributeKey = lowerCaseAttributeKey;\n            }\n            // Special case for innerHTML which doesn't work lowercased\n            if (\n              primaryAttributes.indexOf(attributeKey) !== -1 &&\n              (attributeKey === TAG_PROPERTIES.INNER_HTML ||\n                attributeKey === TAG_PROPERTIES.CSS_TEXT ||\n                attributeKey === TAG_PROPERTIES.ITEM_PROP)\n            ) {\n              primaryAttributeKey = attributeKey;\n            }\n          }\n\n          if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n            return false;\n          }\n\n          const value = tag[primaryAttributeKey].toLowerCase();\n\n          if (!approvedSeenTags[primaryAttributeKey]) {\n            approvedSeenTags[primaryAttributeKey] = {};\n          }\n\n          if (!instanceSeenTags[primaryAttributeKey]) {\n            instanceSeenTags[primaryAttributeKey] = {};\n          }\n\n          if (!approvedSeenTags[primaryAttributeKey][value]) {\n            instanceSeenTags[primaryAttributeKey][value] = true;\n            return true;\n          }\n\n          return false;\n        })\n        .reverse()\n        .forEach(tag => approvedTags.push(tag));\n\n      // Update seen tags with tags from this instance\n      const keys = Object.keys(instanceSeenTags);\n      for (let i = 0; i < keys.length; i += 1) {\n        const attributeKey = keys[i];\n        const tagUnion = {\n          ...approvedSeenTags[attributeKey],\n          ...instanceSeenTags[attributeKey],\n        };\n\n        approvedSeenTags[attributeKey] = tagUnion;\n      }\n\n      return approvedTags;\n    }, [])\n    .reverse();\n};\n\nconst reducePropsToState = propsList => ({\n  baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF], propsList),\n  bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n  defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n  encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n  htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n  linkTags: getTagsFromPropsList(\n    TAG_NAMES.LINK,\n    [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF],\n    propsList\n  ),\n  metaTags: getTagsFromPropsList(\n    TAG_NAMES.META,\n    [\n      TAG_PROPERTIES.NAME,\n      TAG_PROPERTIES.CHARSET,\n      TAG_PROPERTIES.HTTPEQUIV,\n      TAG_PROPERTIES.PROPERTY,\n      TAG_PROPERTIES.ITEM_PROP,\n    ],\n    propsList\n  ),\n  noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n  onChangeClientState: getOnChangeClientState(propsList),\n  scriptTags: getTagsFromPropsList(\n    TAG_NAMES.SCRIPT,\n    [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML],\n    propsList\n  ),\n  styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n  title: getTitleFromPropsList(propsList),\n  titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList),\n});\n\nexport const flattenArray = possibleArray =>\n  Array.isArray(possibleArray) ? possibleArray.join('') : possibleArray;\n\nexport { reducePropsToState };\n","import React from 'react';\nimport {\n  HELMET_ATTRIBUTE,\n  TAG_NAMES,\n  REACT_TAG_MAP,\n  TAG_PROPERTIES,\n  ATTRIBUTE_NAMES,\n} from './constants';\nimport { flattenArray } from './utils';\n\nconst SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\n\nconst encodeSpecialCharacters = (str, encode = true) => {\n  if (encode === false) {\n    return String(str);\n  }\n\n  return String(str)\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#x27;');\n};\n\nconst generateElementAttributesAsString = attributes =>\n  Object.keys(attributes).reduce((str, key) => {\n    const attr = typeof attributes[key] !== 'undefined' ? `${key}=\"${attributes[key]}\"` : `${key}`;\n    return str ? `${str} ${attr}` : attr;\n  }, '');\n\nconst generateTitleAsString = (type, title, attributes, encode) => {\n  const attributeString = generateElementAttributesAsString(attributes);\n  const flattenedTitle = flattenArray(title);\n  return attributeString\n    ? `<${type} ${HELMET_ATTRIBUTE}=\"true\" ${attributeString}>${encodeSpecialCharacters(\n        flattenedTitle,\n        encode\n      )}</${type}>`\n    : `<${type} ${HELMET_ATTRIBUTE}=\"true\">${encodeSpecialCharacters(\n        flattenedTitle,\n        encode\n      )}</${type}>`;\n};\n\nconst generateTagsAsString = (type, tags, encode) =>\n  tags.reduce((str, tag) => {\n    const attributeHtml = Object.keys(tag)\n      .filter(\n        attribute =>\n          !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT)\n      )\n      .reduce((string, attribute) => {\n        const attr =\n          typeof tag[attribute] === 'undefined'\n            ? attribute\n            : `${attribute}=\"${encodeSpecialCharacters(tag[attribute], encode)}\"`;\n        return string ? `${string} ${attr}` : attr;\n      }, '');\n\n    const tagContent = tag.innerHTML || tag.cssText || '';\n\n    const isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n\n    return `${str}<${type} ${HELMET_ATTRIBUTE}=\"true\" ${attributeHtml}${\n      isSelfClosing ? `/>` : `>${tagContent}</${type}>`\n    }`;\n  }, '');\n\nconst convertElementAttributesToReactProps = (attributes, initProps = {}) =>\n  Object.keys(attributes).reduce((obj, key) => {\n    // eslint-disable-next-line no-param-reassign\n    obj[REACT_TAG_MAP[key] || key] = attributes[key];\n    return obj;\n  }, initProps);\n\nconst generateTitleAsReactComponent = (type, title, attributes) => {\n  // assigning into an array to define toString function on it\n  const initProps = {\n    key: title,\n    [HELMET_ATTRIBUTE]: true,\n  };\n  const props = convertElementAttributesToReactProps(attributes, initProps);\n\n  return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nconst generateTagsAsReactComponent = (type, tags) =>\n  tags.map((tag, i) => {\n    const mappedTag = {\n      key: i,\n      [HELMET_ATTRIBUTE]: true,\n    };\n\n    Object.keys(tag).forEach(attribute => {\n      const mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n      if (\n        mappedAttribute === TAG_PROPERTIES.INNER_HTML ||\n        mappedAttribute === TAG_PROPERTIES.CSS_TEXT\n      ) {\n        const content = tag.innerHTML || tag.cssText;\n        mappedTag.dangerouslySetInnerHTML = { __html: content };\n      } else {\n        mappedTag[mappedAttribute] = tag[attribute];\n      }\n    });\n\n    return React.createElement(type, mappedTag);\n  });\n\nconst getMethodsForTag = (type, tags, encode) => {\n  switch (type) {\n    case TAG_NAMES.TITLE:\n      return {\n        toComponent: () =>\n          generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode),\n        toString: () => generateTitleAsString(type, tags.title, tags.titleAttributes, encode),\n      };\n    case ATTRIBUTE_NAMES.BODY:\n    case ATTRIBUTE_NAMES.HTML:\n      return {\n        toComponent: () => convertElementAttributesToReactProps(tags),\n        toString: () => generateElementAttributesAsString(tags),\n      };\n    default:\n      return {\n        toComponent: () => generateTagsAsReactComponent(type, tags),\n        toString: () => generateTagsAsString(type, tags, encode),\n      };\n  }\n};\n\nconst mapStateOnServer = ({\n  baseTag,\n  bodyAttributes,\n  encode,\n  htmlAttributes,\n  linkTags,\n  metaTags,\n  noscriptTags,\n  scriptTags,\n  styleTags,\n  title = '',\n  titleAttributes,\n}) => ({\n  base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n  bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n  htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n  link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n  meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n  noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n  script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n  style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n  title: getMethodsForTag(TAG_NAMES.TITLE, { title, titleAttributes }, encode),\n});\n\nexport default mapStateOnServer;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport mapStateOnServer from './server';\n\nconst defaultValue = {};\n\nexport const Context = React.createContext(defaultValue);\n\nexport const providerShape = PropTypes.shape({\n  setHelmet: PropTypes.func,\n  helmetInstances: PropTypes.shape({\n    get: PropTypes.func,\n    add: PropTypes.func,\n    remove: PropTypes.func,\n  }),\n});\n\nconst canUseDOM = typeof document !== 'undefined';\n\nexport default class Provider extends Component {\n  static canUseDOM = canUseDOM;\n\n  static propTypes = {\n    context: PropTypes.shape({\n      helmet: PropTypes.shape(),\n    }),\n    children: PropTypes.node.isRequired,\n  };\n\n  static defaultProps = {\n    context: {},\n  };\n\n  static displayName = 'HelmetProvider';\n\n  instances = [];\n\n  value = {\n    setHelmet: serverState => {\n      // eslint-disable-next-line react/prop-types\n      this.props.context.helmet = serverState;\n    },\n    helmetInstances: {\n      get: () => this.instances,\n      add: instance => {\n        this.instances.push(instance);\n      },\n      remove: instance => {\n        const index = this.instances.indexOf(instance);\n        this.instances.splice(index, 1);\n      },\n    },\n  };\n\n  constructor(props) {\n    super(props);\n\n    if (!Provider.canUseDOM) {\n      // eslint-disable-next-line no-param-reassign\n      props.context.helmet = mapStateOnServer({\n        baseTag: [],\n        bodyAttributes: {},\n        encodeSpecialCharacters: true,\n        htmlAttributes: {},\n        linkTags: [],\n        metaTags: [],\n        noscriptTags: [],\n        scriptTags: [],\n        styleTags: [],\n        title: '',\n        titleAttributes: {},\n      });\n    }\n  }\n\n  render() {\n    return <Context.Provider value={this.value}>{this.props.children}</Context.Provider>;\n  }\n}\n","import { HELMET_ATTRIBUTE, TAG_NAMES, TAG_PROPERTIES } from './constants';\nimport { flattenArray } from './utils';\n\nconst updateTags = (type, tags) => {\n  const headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n  const tagNodes = headElement.querySelectorAll(`${type}[${HELMET_ATTRIBUTE}]`);\n  const oldTags = [].slice.call(tagNodes);\n  const newTags = [];\n  let indexToDelete;\n\n  if (tags && tags.length) {\n    tags.forEach(tag => {\n      const newElement = document.createElement(type);\n\n      // eslint-disable-next-line\n      for (const attribute in tag) {\n        if (Object.prototype.hasOwnProperty.call(tag, attribute)) {\n          if (attribute === TAG_PROPERTIES.INNER_HTML) {\n            newElement.innerHTML = tag.innerHTML;\n          } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n            if (newElement.styleSheet) {\n              newElement.styleSheet.cssText = tag.cssText;\n            } else {\n              newElement.appendChild(document.createTextNode(tag.cssText));\n            }\n          } else {\n            const value = typeof tag[attribute] === 'undefined' ? '' : tag[attribute];\n            newElement.setAttribute(attribute, value);\n          }\n        }\n      }\n\n      newElement.setAttribute(HELMET_ATTRIBUTE, 'true');\n\n      // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n      if (\n        oldTags.some((existingTag, index) => {\n          indexToDelete = index;\n          return newElement.isEqualNode(existingTag);\n        })\n      ) {\n        oldTags.splice(indexToDelete, 1);\n      } else {\n        newTags.push(newElement);\n      }\n    });\n  }\n\n  oldTags.forEach(tag => tag.parentNode.removeChild(tag));\n  newTags.forEach(tag => headElement.appendChild(tag));\n\n  return {\n    oldTags,\n    newTags,\n  };\n};\n\nconst updateAttributes = (tagName, attributes) => {\n  const elementTag = document.getElementsByTagName(tagName)[0];\n\n  if (!elementTag) {\n    return;\n  }\n\n  const helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n  const helmetAttributes = helmetAttributeString ? helmetAttributeString.split(',') : [];\n  const attributesToRemove = [].concat(helmetAttributes);\n  const attributeKeys = Object.keys(attributes);\n\n  for (let i = 0; i < attributeKeys.length; i += 1) {\n    const attribute = attributeKeys[i];\n    const value = attributes[attribute] || '';\n\n    if (elementTag.getAttribute(attribute) !== value) {\n      elementTag.setAttribute(attribute, value);\n    }\n\n    if (helmetAttributes.indexOf(attribute) === -1) {\n      helmetAttributes.push(attribute);\n    }\n\n    const indexToSave = attributesToRemove.indexOf(attribute);\n    if (indexToSave !== -1) {\n      attributesToRemove.splice(indexToSave, 1);\n    }\n  }\n\n  for (let i = attributesToRemove.length - 1; i >= 0; i -= 1) {\n    elementTag.removeAttribute(attributesToRemove[i]);\n  }\n\n  if (helmetAttributes.length === attributesToRemove.length) {\n    elementTag.removeAttribute(HELMET_ATTRIBUTE);\n  } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(',')) {\n    elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(','));\n  }\n};\n\nconst updateTitle = (title, attributes) => {\n  if (typeof title !== 'undefined' && document.title !== title) {\n    document.title = flattenArray(title);\n  }\n\n  updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nconst commitTagChanges = (newState, cb) => {\n  const {\n    baseTag,\n    bodyAttributes,\n    htmlAttributes,\n    linkTags,\n    metaTags,\n    noscriptTags,\n    onChangeClientState,\n    scriptTags,\n    styleTags,\n    title,\n    titleAttributes,\n  } = newState;\n  updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n  updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n\n  updateTitle(title, titleAttributes);\n\n  const tagUpdates = {\n    baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n    linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n    metaTags: updateTags(TAG_NAMES.META, metaTags),\n    noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n    scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n    styleTags: updateTags(TAG_NAMES.STYLE, styleTags),\n  };\n\n  const addedTags = {};\n  const removedTags = {};\n\n  Object.keys(tagUpdates).forEach(tagType => {\n    const { newTags, oldTags } = tagUpdates[tagType];\n\n    if (newTags.length) {\n      addedTags[tagType] = newTags;\n    }\n    if (oldTags.length) {\n      removedTags[tagType] = tagUpdates[tagType].oldTags;\n    }\n  });\n\n  if (cb) {\n    cb();\n  }\n\n  onChangeClientState(newState, addedTags, removedTags);\n};\n\n// eslint-disable-next-line\nlet _helmetCallback = null;\n\nconst handleStateChangeOnClient = newState => {\n  if (_helmetCallback) {\n    cancelAnimationFrame(_helmetCallback);\n  }\n\n  if (newState.defer) {\n    _helmetCallback = requestAnimationFrame(() => {\n      commitTagChanges(newState, () => {\n        _helmetCallback = null;\n      });\n    });\n  } else {\n    commitTagChanges(newState);\n    _helmetCallback = null;\n  }\n};\n\nexport default handleStateChangeOnClient;\n","import { Component } from 'react';\nimport shallowEqual from 'shallowequal';\nimport handleStateChangeOnClient from './client';\nimport mapStateOnServer from './server';\nimport { reducePropsToState } from './utils';\nimport Provider, { providerShape } from './Provider';\n\nexport default class Dispatcher extends Component {\n  static propTypes = {\n    context: providerShape.isRequired,\n  };\n\n  static displayName = 'HelmetDispatcher';\n\n  rendered = false;\n\n  shouldComponentUpdate(nextProps) {\n    return !shallowEqual(nextProps, this.props);\n  }\n\n  componentDidUpdate() {\n    this.emitChange();\n  }\n\n  componentWillUnmount() {\n    const { helmetInstances } = this.props.context;\n    helmetInstances.remove(this);\n    this.emitChange();\n  }\n\n  emitChange() {\n    const { helmetInstances, setHelmet } = this.props.context;\n    let serverState = null;\n    const state = reducePropsToState(\n      helmetInstances.get().map(instance => {\n        const props = { ...instance.props };\n        delete props.context;\n        return props;\n      })\n    );\n    if (Provider.canUseDOM) {\n      handleStateChangeOnClient(state);\n    } else if (mapStateOnServer) {\n      serverState = mapStateOnServer(state);\n    }\n    setHelmet(serverState);\n  }\n\n  // componentWillMount will be deprecated\n  // for SSR, initialize on first render\n  // constructor is also unsafe in StrictMode\n  init() {\n    if (this.rendered) {\n      return;\n    }\n\n    this.rendered = true;\n\n    const { helmetInstances } = this.props.context;\n    helmetInstances.add(this);\n    this.emitChange();\n  }\n\n  render() {\n    this.init();\n\n    return null;\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport fastCompare from 'react-fast-compare';\nimport invariant from 'invariant';\nimport { Context } from './Provider';\nimport Dispatcher from './Dispatcher';\nimport { TAG_NAMES, VALID_TAG_NAMES, HTML_TAG_MAP } from './constants';\n\nexport { default as HelmetProvider } from './Provider';\n\n/* eslint-disable class-methods-use-this */\n\nexport class Helmet extends Component {\n  /**\n   * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n   * @param {Object} bodyAttributes: {\"className\": \"root\"}\n   * @param {String} defaultTitle: \"Default Title\"\n   * @param {Boolean} defer: true\n   * @param {Boolean} encodeSpecialCharacters: true\n   * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n   * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n   * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n   * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n   * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n   * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n   * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n   * @param {String} title: \"Title\"\n   * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n   * @param {String} titleTemplate: \"MySite.com - %s\"\n   */\n  /* eslint-disable react/prop-types, react/forbid-prop-types, react/require-default-props */\n  static propTypes = {\n    base: PropTypes.object,\n    bodyAttributes: PropTypes.object,\n    children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n    defaultTitle: PropTypes.string,\n    defer: PropTypes.bool,\n    encodeSpecialCharacters: PropTypes.bool,\n    htmlAttributes: PropTypes.object,\n    link: PropTypes.arrayOf(PropTypes.object),\n    meta: PropTypes.arrayOf(PropTypes.object),\n    noscript: PropTypes.arrayOf(PropTypes.object),\n    onChangeClientState: PropTypes.func,\n    script: PropTypes.arrayOf(PropTypes.object),\n    style: PropTypes.arrayOf(PropTypes.object),\n    title: PropTypes.string,\n    titleAttributes: PropTypes.object,\n    titleTemplate: PropTypes.string,\n  };\n  /* eslint-enable react/prop-types, react/forbid-prop-types, react/require-default-props */\n\n  static defaultProps = {\n    defer: true,\n    encodeSpecialCharacters: true,\n  };\n\n  static displayName = 'Helmet';\n\n  shouldComponentUpdate(nextProps) {\n    return !fastCompare(this.props, nextProps);\n  }\n\n  mapNestedChildrenToProps(child, nestedChildren) {\n    if (!nestedChildren) {\n      return null;\n    }\n\n    switch (child.type) {\n      case TAG_NAMES.SCRIPT:\n      case TAG_NAMES.NOSCRIPT:\n        return {\n          innerHTML: nestedChildren,\n        };\n\n      case TAG_NAMES.STYLE:\n        return {\n          cssText: nestedChildren,\n        };\n      default:\n        throw new Error(\n          `<${child.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`\n        );\n    }\n  }\n\n  flattenArrayTypeChildren({ child, arrayTypeChildren, newChildProps, nestedChildren }) {\n    return {\n      ...arrayTypeChildren,\n      [child.type]: [\n        ...(arrayTypeChildren[child.type] || []),\n        {\n          ...newChildProps,\n          ...this.mapNestedChildrenToProps(child, nestedChildren),\n        },\n      ],\n    };\n  }\n\n  mapObjectTypeChildren({ child, newProps, newChildProps, nestedChildren }) {\n    switch (child.type) {\n      case TAG_NAMES.TITLE:\n        return {\n          ...newProps,\n          [child.type]: nestedChildren,\n          titleAttributes: { ...newChildProps },\n        };\n\n      case TAG_NAMES.BODY:\n        return {\n          ...newProps,\n          bodyAttributes: { ...newChildProps },\n        };\n\n      case TAG_NAMES.HTML:\n        return {\n          ...newProps,\n          htmlAttributes: { ...newChildProps },\n        };\n      default:\n        return {\n          ...newProps,\n          [child.type]: { ...newChildProps },\n        };\n    }\n  }\n\n  mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n    let newFlattenedProps = { ...newProps };\n\n    Object.keys(arrayTypeChildren).forEach(arrayChildName => {\n      newFlattenedProps = {\n        ...newFlattenedProps,\n        [arrayChildName]: arrayTypeChildren[arrayChildName],\n      };\n    });\n\n    return newFlattenedProps;\n  }\n\n  warnOnInvalidChildren(child, nestedChildren) {\n    invariant(\n      VALID_TAG_NAMES.some(name => child.type === name),\n      typeof child.type === 'function'\n        ? `You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.`\n        : `Only elements types ${VALID_TAG_NAMES.join(\n            ', '\n          )} are allowed. Helmet does not support rendering <${\n            child.type\n          }> elements. Refer to our API for more information.`\n    );\n\n    invariant(\n      !nestedChildren ||\n        typeof nestedChildren === 'string' ||\n        (Array.isArray(nestedChildren) &&\n          !nestedChildren.some(nestedChild => typeof nestedChild !== 'string')),\n      `Helmet expects a string as a child of <${child.type}>. Did you forget to wrap your children in braces? ( <${child.type}>{\\`\\`}</${child.type}> ) Refer to our API for more information.`\n    );\n\n    return true;\n  }\n\n  mapChildrenToProps(children, newProps) {\n    let arrayTypeChildren = {};\n\n    React.Children.forEach(children, child => {\n      if (!child || !child.props) {\n        return;\n      }\n\n      const { children: nestedChildren, ...childProps } = child.props;\n      // convert React props to HTML attributes\n      const newChildProps = Object.keys(childProps).reduce((obj, key) => {\n        // eslint-disable-next-line no-param-reassign\n        obj[HTML_TAG_MAP[key] || key] = childProps[key];\n        return obj;\n      }, {});\n\n      let { type } = child;\n      if (typeof type === 'symbol') {\n        type = type.toString();\n      } else {\n        this.warnOnInvalidChildren(child, nestedChildren);\n      }\n\n      switch (type) {\n        case TAG_NAMES.FRAGMENT:\n          // eslint-disable-next-line no-param-reassign\n          newProps = this.mapChildrenToProps(nestedChildren, newProps);\n          break;\n\n        case TAG_NAMES.LINK:\n        case TAG_NAMES.META:\n        case TAG_NAMES.NOSCRIPT:\n        case TAG_NAMES.SCRIPT:\n        case TAG_NAMES.STYLE:\n          arrayTypeChildren = this.flattenArrayTypeChildren({\n            child,\n            arrayTypeChildren,\n            newChildProps,\n            nestedChildren,\n          });\n          break;\n\n        default:\n          // eslint-disable-next-line no-param-reassign\n          newProps = this.mapObjectTypeChildren({\n            child,\n            newProps,\n            newChildProps,\n            nestedChildren,\n          });\n          break;\n      }\n    });\n\n    return this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n  }\n\n  render() {\n    const { children, ...props } = this.props;\n    let newProps = { ...props };\n\n    if (children) {\n      newProps = this.mapChildrenToProps(children, newProps);\n    }\n\n    return (\n      <Context.Consumer>\n        {(\n          context // eslint-disable-next-line react/jsx-props-no-spreading\n        ) => <Dispatcher {...newProps} context={context} />}\n      </Context.Consumer>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}