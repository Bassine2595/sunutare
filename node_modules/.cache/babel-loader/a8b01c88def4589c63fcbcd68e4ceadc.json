{"ast":null,"code":"import \"antd/es/card/style\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/list/style\";\nimport _List from \"antd/es/list\";\nvar _jsxFileName = \"/home/bassine/Documents/ProjetSunutare/frontend-manager/src/component/User/Customer/Customer.tsx\";\nimport React, { useContext, useState } from \"react\";\nimport { Theme } from \"../../Shared/Layout\";\nimport { UserContext } from \"../../Context\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { CUSTOMERSBYWORKSHOPID } from \"../../../Gql/Query\";\nimport { Display } from \"./Display\";\nimport { Contact as ContactModal } from \"./Contact\";\nimport { useModal } from \"../../../hooks/useModal\";\nexport const Customer = () => {\n  const {\n    user\n  } = useContext(UserContext);\n  const {\n    data,\n    loading,\n    refetch\n  } = useQuery(CUSTOMERSBYWORKSHOPID, {\n    variables: {\n      workshopId: user.workshop.id,\n      all: true\n    }\n  });\n  const [current, setCurrent] = useState();\n  const [visible, toggle] = useModal();\n\n  const onContact = customer => {\n    setCurrent(customer);\n    toggle();\n  };\n\n  return /*#__PURE__*/React.createElement(Theme, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ContactModal, {\n    customer: current,\n    visible: visible,\n    onCancel: toggle,\n    onSuccess: () => {},\n    onError: () => {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(_Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_List, {\n    rowKey: \"id\",\n    dataSource: data === null || data === void 0 ? void 0 : data.customers.nodes,\n    renderItem: (customer, key) => {\n      return /*#__PURE__*/React.createElement(Display, Object.assign({}, customer, {\n        numberServicesByYear: data === null || data === void 0 ? void 0 : data.numberServicesByYears.nodes[0].count,\n        onContact: onContact,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  })));\n};","map":{"version":3,"sources":["/home/bassine/Documents/ProjetSunutare/frontend-manager/src/component/User/Customer/Customer.tsx"],"names":["React","useContext","useState","Theme","UserContext","useQuery","CUSTOMERSBYWORKSHOPID","Display","Contact","ContactModal","useModal","Customer","user","data","loading","refetch","variables","workshopId","workshop","id","all","current","setCurrent","visible","toggle","onContact","customer","customers","nodes","key","numberServicesByYears","count"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,SAASC,KAAT,QAAsB,qBAAtB;AAWA,SAASC,WAAT,QAA4B,eAA5B;AAEA,SAASC,QAAT,QAAyB,qBAAzB;AACA,SAASC,qBAAT,QAAsC,oBAAtC;AACA,SAASC,OAAT,QAAwB,WAAxB;AAEA,SAASC,OAAO,IAAIC,YAApB,QAAwC,WAAxC;AACA,SAASC,QAAT,QAAyB,yBAAzB;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAC5B,QAAM;AAAEC,IAAAA;AAAF,MAAWX,UAAU,CAACG,WAAD,CAA3B;AACA,QAAM;AAAES,IAAAA,IAAF;AAAQC,IAAAA,OAAR;AAAiBC,IAAAA;AAAjB,MAA6BV,QAAQ,CAACC,qBAAD,EAAwB;AACjEU,IAAAA,SAAS,EAAE;AAAEC,MAAAA,UAAU,EAAEL,IAAI,CAACM,QAAL,CAAcC,EAA5B;AAAgCC,MAAAA,GAAG,EAAE;AAArC;AADsD,GAAxB,CAA3C;AAGA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBpB,QAAQ,EAAtC;AACA,QAAM,CAACqB,OAAD,EAAUC,MAAV,IAAoBd,QAAQ,EAAlC;;AAEA,QAAMe,SAAS,GAAIC,QAAD,IAAc;AAC9BJ,IAAAA,UAAU,CAACI,QAAD,CAAV;AACAF,IAAAA,MAAM;AACP,GAHD;;AAIA,sBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AACE,IAAA,QAAQ,EAAEH,OADZ;AAEE,IAAA,OAAO,EAAEE,OAFX;AAGE,IAAA,QAAQ,EAAEC,MAHZ;AAIE,IAAA,SAAS,EAAE,MAAM,CAAE,CAJrB;AAKE,IAAA,OAAO,EAAE,MAAM,CAAE,CALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,MAAM,EAAC,IADT;AAEE,IAAA,UAAU,EAAEX,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEc,SAAN,CAAgBC,KAF9B;AAGE,IAAA,UAAU,EAAE,CAACF,QAAD,EAAgBG,GAAhB,KAAwB;AAClC,0BACE,oBAAC,OAAD,oBACMH,QADN;AAEE,QAAA,oBAAoB,EAClBb,IADkB,aAClBA,IADkB,uBAClBA,IAAI,CAAEiB,qBAAN,CAA4BF,KAA5B,CAAkC,CAAlC,EAAqCG,KAHzC;AAKE,QAAA,SAAS,EAAEN,SALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF;AASD,KAbH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CARF,CADF;AA4BD,CAxCM","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { Theme } from \"../../Shared/Layout\";\nimport {\n  Row,\n  Col,\n  PageHeader,\n  message,\n  List,\n  Button,\n  Skeleton,\n  Card,\n} from \"antd\";\nimport { UserContext } from \"../../Context\";\nimport { PlusCircleOutlined } from \"@ant-design/icons\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { CUSTOMERSBYWORKSHOPID } from \"../../../Gql/Query\";\nimport { Display } from \"./Display\";\nimport { FilterForm } from \"../Service/Form\";\nimport { Contact as ContactModal } from \"./Contact\";\nimport { useModal } from \"../../../hooks/useModal\";\n\nexport const Customer = () => {\n  const { user } = useContext(UserContext);\n  const { data, loading, refetch } = useQuery(CUSTOMERSBYWORKSHOPID, {\n    variables: { workshopId: user.workshop.id, all: true },\n  });\n  const [current, setCurrent] = useState();\n  const [visible, toggle] = useModal();\n\n  const onContact = (customer) => {\n    setCurrent(customer);\n    toggle();\n  };\n  return (\n    <Theme>\n      <ContactModal\n        customer={current}\n        visible={visible}\n        onCancel={toggle}\n        onSuccess={() => {}}\n        onError={() => {}}\n      />\n      <Card>\n        <List\n          rowKey=\"id\"\n          dataSource={data?.customers.nodes}\n          renderItem={(customer: any, key) => {\n            return (\n              <Display\n                {...customer}\n                numberServicesByYear={\n                  data?.numberServicesByYears.nodes[0].count\n                }\n                onContact={onContact}\n              />\n            );\n          }}\n        />\n      </Card>\n    </Theme>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}