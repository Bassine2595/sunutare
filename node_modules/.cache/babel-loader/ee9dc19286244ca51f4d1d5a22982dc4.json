{"ast":null,"code":"import \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport \"antd/es/list/style\";\nimport _List from \"antd/es/list\";\nimport \"antd/es/skeleton/style\";\nimport _Skeleton from \"antd/es/skeleton\";\nimport \"antd/es/page-header/style\";\nimport _PageHeader from \"antd/es/page-header\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/message/style\";\nimport _message from \"antd/es/message\";\nvar _jsxFileName = \"/home/bassine/Documents/ProjetSunutare/frontend-manager/src/component/User/Employer/Employer.tsx\";\nimport React, { useContext, useState } from \"react\";\nimport { Theme } from \"../../Shared/ManagerLayout\";\nimport { UserContext } from \"../../Context\";\nimport { PlusCircleOutlined } from \"@ant-design/icons\";\nimport { Add } from \"./Add\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { EMPLOYERSBYWORKSHOPID } from \"../../../Gql/Query\";\nimport { useModal } from \"../../../hooks/useModal\";\nimport { Show } from \"./Show\";\nimport { Make } from \"./Make\";\nimport { Display } from \"./Display\";\nimport { EditEmployer } from \"./Update\";\nexport const Employer = () => {\n  const {\n    user\n  } = useContext(UserContext);\n  const {\n    data,\n    loading,\n    refetch\n  } = useQuery(EMPLOYERSBYWORKSHOPID, {\n    variables: {\n      workshopId: user.workshop.id\n    }\n  });\n  const [key, setKey] = useState(0);\n  const [employer, setEmployer] = useState();\n  const [addModal, addModalToggle] = useModal();\n  const [showModal, showModalToggle] = useModal();\n  const [makeModal, makeModalToggle] = useModal();\n  const [editModal, editModalToggle] = useModal();\n\n  const onClickShow = employer => {\n    setEmployer(employer);\n    showModalToggle();\n  };\n\n  const onClickMake = employer => {\n    setEmployer(employer);\n    makeModalToggle();\n  };\n\n  const onClickEdit = employer => {\n    setEmployer(employer);\n    editModalToggle();\n  };\n\n  return /*#__PURE__*/React.createElement(Theme, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Add, {\n    key: key,\n    visible: addModal,\n    onSuccess: () => {\n      addModalToggle();\n\n      _message.success(\"Employé ajouté avec succès !\");\n\n      refetch();\n      setKey(key => key + 1);\n    },\n    onError: e => {\n      addModalToggle();\n\n      _message.error(\"Une erreur est survenue, réessayer plus tard !\");\n    },\n    onCancel: addModalToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), employer && /*#__PURE__*/React.createElement(Show, {\n    visible: showModal,\n    onCancel: showModalToggle,\n    employer: employer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }), employer && /*#__PURE__*/React.createElement(Make, {\n    visible: makeModal,\n    onCancel: makeModalToggle,\n    employer: employer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), employer && /*#__PURE__*/React.createElement(EditEmployer, {\n    employer: employer,\n    visible: editModal,\n    onCancel: editModalToggle,\n    onSuccess: () => {\n      editModalToggle();\n\n      _message.success(\"Les informations de l'employé ont été modifié !\");\n\n      refetch();\n    },\n    onError: () => {\n      editModalToggle();\n\n      _message.error(\"Une erreur est survenue, réessayer plus tard !\");\n\n      refetch();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(_Row, {\n    gutter: [12, 12],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Col, {\n    span: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_PageHeader, {\n    style: {\n      marginBottom: 20\n    },\n    ghost: false,\n    title: \"Employ\\xE9s\",\n    onBack: () => window.history.back(),\n    extra: /*#__PURE__*/React.createElement(_Button, {\n      onClick: addModalToggle,\n      type: \"primary\",\n      shape: \"round\",\n      key: \"add\",\n      icon: /*#__PURE__*/React.createElement(PlusCircleOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 23\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 15\n      }\n    }, \"Ajouter un employ\\xE9\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }), loading ? /*#__PURE__*/React.createElement(_Skeleton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(_List, {\n    rowKey: \"id\",\n    grid: {\n      gutter: 8,\n      xs: 1,\n      sm: 1,\n      md: 1,\n      lg: 2,\n      xl: 3\n    },\n    dataSource: data === null || data === void 0 ? void 0 : data.employers.nodes,\n    renderItem: (employer, key) => {\n      return /*#__PURE__*/React.createElement(_List.Item, {\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Display, Object.assign({}, employer, {\n        onClickEdit: onClickEdit,\n        onClickMake: onClickMake,\n        onClickShow: onClickShow,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }\n      })));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }))));\n};","map":{"version":3,"sources":["/home/bassine/Documents/ProjetSunutare/frontend-manager/src/component/User/Employer/Employer.tsx"],"names":["React","useContext","useState","Theme","UserContext","PlusCircleOutlined","Add","useQuery","EMPLOYERSBYWORKSHOPID","useModal","Show","Make","Display","EditEmployer","Employer","user","data","loading","refetch","variables","workshopId","workshop","id","key","setKey","employer","setEmployer","addModal","addModalToggle","showModal","showModalToggle","makeModal","makeModalToggle","editModal","editModalToggle","onClickShow","onClickMake","onClickEdit","success","e","error","marginBottom","window","history","back","gutter","xs","sm","md","lg","xl","employers","nodes"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,SAASC,KAAT,QAAsB,4BAAtB;AAEA,SAASC,WAAT,QAA4B,eAA5B;AACA,SAASC,kBAAT,QAAmC,mBAAnC;AACA,SAASC,GAAT,QAAoB,OAApB;AACA,SAASC,QAAT,QAAyB,qBAAzB;AACA,SAASC,qBAAT,QAAsC,oBAAtC;AACA,SAASC,QAAT,QAAyB,yBAAzB;AACA,SAASC,IAAT,QAAqB,QAArB;AACA,SAASC,IAAT,QAAqB,QAArB;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,YAAT,QAA6B,UAA7B;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAC5B,QAAM;AAAEC,IAAAA;AAAF,MAAWd,UAAU,CAACG,WAAD,CAA3B;AACA,QAAM;AAAEY,IAAAA,IAAF;AAAQC,IAAAA,OAAR;AAAiBC,IAAAA;AAAjB,MAA6BX,QAAQ,CAACC,qBAAD,EAAwB;AACjEW,IAAAA,SAAS,EAAE;AAAEC,MAAAA,UAAU,EAAEL,IAAI,CAACM,QAAL,CAAcC;AAA5B;AADsD,GAAxB,CAA3C;AAGA,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBtB,QAAQ,CAAC,CAAD,CAA9B;AACA,QAAM,CAACuB,QAAD,EAAWC,WAAX,IAA0BxB,QAAQ,EAAxC;AACA,QAAM,CAACyB,QAAD,EAAWC,cAAX,IAA6BnB,QAAQ,EAA3C;AACA,QAAM,CAACoB,SAAD,EAAYC,eAAZ,IAA+BrB,QAAQ,EAA7C;AACA,QAAM,CAACsB,SAAD,EAAYC,eAAZ,IAA+BvB,QAAQ,EAA7C;AACA,QAAM,CAACwB,SAAD,EAAYC,eAAZ,IAA+BzB,QAAQ,EAA7C;;AAEA,QAAM0B,WAAW,GAAIV,QAAD,IAAc;AAChCC,IAAAA,WAAW,CAACD,QAAD,CAAX;AACAK,IAAAA,eAAe;AAChB,GAHD;;AAKA,QAAMM,WAAW,GAAIX,QAAD,IAAc;AAChCC,IAAAA,WAAW,CAACD,QAAD,CAAX;AACAO,IAAAA,eAAe;AAChB,GAHD;;AAIA,QAAMK,WAAW,GAAIZ,QAAD,IAAc;AAChCC,IAAAA,WAAW,CAACD,QAAD,CAAX;AACAS,IAAAA,eAAe;AAChB,GAHD;;AAKA,sBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AACE,IAAA,GAAG,EAAEX,GADP;AAEE,IAAA,OAAO,EAAEI,QAFX;AAGE,IAAA,SAAS,EAAE,MAAM;AACfC,MAAAA,cAAc;;AACd,eAAQU,OAAR,CAAgB,8BAAhB;;AACApB,MAAAA,OAAO;AACPM,MAAAA,MAAM,CAAED,GAAD,IAASA,GAAG,GAAG,CAAhB,CAAN;AACD,KARH;AASE,IAAA,OAAO,EAAGgB,CAAD,IAAO;AACdX,MAAAA,cAAc;;AACd,eAAQY,KAAR,CAAc,gDAAd;AACD,KAZH;AAaE,IAAA,QAAQ,EAAEZ,cAbZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAgBGH,QAAQ,iBACP,oBAAC,IAAD;AACE,IAAA,OAAO,EAAEI,SADX;AAEE,IAAA,QAAQ,EAAEC,eAFZ;AAGE,IAAA,QAAQ,EAAEL,QAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjBJ,EAuBGA,QAAQ,iBACP,oBAAC,IAAD;AACE,IAAA,OAAO,EAAEM,SADX;AAEE,IAAA,QAAQ,EAAEC,eAFZ;AAGE,IAAA,QAAQ,EAAEP,QAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBJ,EA8BGA,QAAQ,iBACP,oBAAC,YAAD;AACE,IAAA,QAAQ,EAAEA,QADZ;AAEE,IAAA,OAAO,EAAEQ,SAFX;AAGE,IAAA,QAAQ,EAAEC,eAHZ;AAIE,IAAA,SAAS,EAAE,MAAM;AACfA,MAAAA,eAAe;;AACf,eAAQI,OAAR,CAAgB,iDAAhB;;AACApB,MAAAA,OAAO;AACR,KARH;AASE,IAAA,OAAO,EAAE,MAAM;AACbgB,MAAAA,eAAe;;AACf,eAAQM,KAAR,CAAc,gDAAd;;AACAtB,MAAAA,OAAO;AACR,KAbH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/BJ,eA+CE;AAAK,IAAA,MAAM,EAAE,CAAC,EAAD,EAAK,EAAL,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,KAAK,EAAE;AAAEuB,MAAAA,YAAY,EAAE;AAAhB,KADT;AAEE,IAAA,KAAK,EAAE,KAFT;AAGE,IAAA,KAAK,EAAC,aAHR;AAIE,IAAA,MAAM,EAAE,MAAMC,MAAM,CAACC,OAAP,CAAeC,IAAf,EAJhB;AAKE,IAAA,KAAK,eACH;AACE,MAAA,OAAO,EAAEhB,cADX;AAEE,MAAA,IAAI,EAAC,SAFP;AAGE,MAAA,KAAK,EAAC,OAHR;AAIE,MAAA,GAAG,EAAC,KAJN;AAKE,MAAA,IAAI,eAAE,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAkBGX,OAAO,gBACN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADM,gBAGN;AACE,IAAA,MAAM,EAAC,IADT;AAEE,IAAA,IAAI,EAAE;AAAE4B,MAAAA,MAAM,EAAE,CAAV;AAAaC,MAAAA,EAAE,EAAE,CAAjB;AAAoBC,MAAAA,EAAE,EAAE,CAAxB;AAA2BC,MAAAA,EAAE,EAAE,CAA/B;AAAkCC,MAAAA,EAAE,EAAE,CAAtC;AAAyCC,MAAAA,EAAE,EAAE;AAA7C,KAFR;AAGE,IAAA,UAAU,EAAElC,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEmC,SAAN,CAAgBC,KAH9B;AAIE,IAAA,UAAU,EAAE,CAAC3B,QAAD,EAAgBF,GAAhB,KAAwB;AAClC,0BACE,0BAAM,IAAN;AAAW,QAAA,GAAG,EAAEA,GAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,OAAD,oBACME,QADN;AAEE,QAAA,WAAW,EAAEY,WAFf;AAGE,QAAA,WAAW,EAAED,WAHf;AAIE,QAAA,WAAW,EAAED,WAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,CADF;AAUD,KAfH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArBJ,CADF,CA/CF,CADF;AA4FD,CAtHM","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { Theme } from \"../../Shared/ManagerLayout\";\nimport { Row, Col, PageHeader, message, List, Button, Skeleton } from \"antd\";\nimport { UserContext } from \"../../Context\";\nimport { PlusCircleOutlined } from \"@ant-design/icons\";\nimport { Add } from \"./Add\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { EMPLOYERSBYWORKSHOPID } from \"../../../Gql/Query\";\nimport { useModal } from \"../../../hooks/useModal\";\nimport { Show } from \"./Show\";\nimport { Make } from \"./Make\";\nimport { Display } from \"./Display\";\nimport { EditEmployer } from \"./Update\";\n\nexport const Employer = () => {\n  const { user } = useContext(UserContext);\n  const { data, loading, refetch } = useQuery(EMPLOYERSBYWORKSHOPID, {\n    variables: { workshopId: user.workshop.id },\n  });\n  const [key, setKey] = useState(0);\n  const [employer, setEmployer] = useState();\n  const [addModal, addModalToggle] = useModal();\n  const [showModal, showModalToggle] = useModal();\n  const [makeModal, makeModalToggle] = useModal();\n  const [editModal, editModalToggle] = useModal();\n\n  const onClickShow = (employer) => {\n    setEmployer(employer);\n    showModalToggle();\n  };\n\n  const onClickMake = (employer) => {\n    setEmployer(employer);\n    makeModalToggle();\n  };\n  const onClickEdit = (employer) => {\n    setEmployer(employer);\n    editModalToggle();\n  };\n\n  return (\n    <Theme>\n      <Add\n        key={key}\n        visible={addModal}\n        onSuccess={() => {\n          addModalToggle();\n          message.success(\"Employé ajouté avec succès !\");\n          refetch();\n          setKey((key) => key + 1);\n        }}\n        onError={(e) => {\n          addModalToggle();\n          message.error(\"Une erreur est survenue, réessayer plus tard !\");\n        }}\n        onCancel={addModalToggle}\n      />\n      {employer && (\n        <Show\n          visible={showModal}\n          onCancel={showModalToggle}\n          employer={employer}\n        />\n      )}\n      {employer && (\n        <Make\n          visible={makeModal}\n          onCancel={makeModalToggle}\n          employer={employer}\n        />\n      )}\n      {employer && (\n        <EditEmployer\n          employer={employer}\n          visible={editModal}\n          onCancel={editModalToggle}\n          onSuccess={() => {\n            editModalToggle();\n            message.success(\"Les informations de l'employé ont été modifié !\");\n            refetch();\n          }}\n          onError={() => {\n            editModalToggle();\n            message.error(\"Une erreur est survenue, réessayer plus tard !\");\n            refetch();\n          }}\n        />\n      )}\n      <Row gutter={[12, 12]}>\n        <Col span={24}>\n          <PageHeader\n            style={{ marginBottom: 20 }}\n            ghost={false}\n            title=\"Employés\"\n            onBack={() => window.history.back()}\n            extra={\n              <Button\n                onClick={addModalToggle}\n                type=\"primary\"\n                shape=\"round\"\n                key=\"add\"\n                icon={<PlusCircleOutlined />}\n              >\n                Ajouter un employé\n              </Button>\n            }\n          />\n          {loading ? (\n            <Skeleton />\n          ) : (\n            <List\n              rowKey=\"id\"\n              grid={{ gutter: 8, xs: 1, sm: 1, md: 1, lg: 2, xl: 3 }}\n              dataSource={data?.employers.nodes}\n              renderItem={(employer: any, key) => {\n                return (\n                  <List.Item key={key}>\n                    <Display\n                      {...employer}\n                      onClickEdit={onClickEdit}\n                      onClickMake={onClickMake}\n                      onClickShow={onClickShow}\n                    />\n                  </List.Item>\n                );\n              }}\n            />\n          )}\n        </Col>\n      </Row>\n    </Theme>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}