{"ast":null,"code":"var _jsxFileName = \"/home/bassine/Documents/ProjetSunutare/frontend-manager/src/component/Activate.tsx\";\nimport React from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { CURRENTUSERID } from \"../Gql/Query\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { ACTIVEUSER } from \"../Gql/Mutation\";\nimport Client from \"../Client\";\nimport { Loading } from \"./Shared/Loading\";\nexport const Activate = () => {\n  const {\n    token\n  } = useParams();\n  const [activeUser] = useMutation(ACTIVEUSER);\n  const history = useHistory();\n\n  if (token) {\n    Client({\n      token\n    }).query({\n      query: CURRENTUSERID\n    }).then(({\n      data: {\n        id\n      }\n    }) => {\n      activeUser({\n        variables: {\n          id\n        }\n      });\n      history.push(`/workshop/${token}`);\n    }).catch(reason => {\n      history.push(`/403?message=${reason.message}`);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 10\n    }\n  });\n};","map":{"version":3,"sources":["/home/bassine/Documents/ProjetSunutare/frontend-manager/src/component/Activate.tsx"],"names":["React","useParams","useHistory","CURRENTUSERID","useMutation","ACTIVEUSER","Client","Loading","Activate","token","activeUser","history","query","then","data","id","variables","push","catch","reason","message"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,UAApB,QAAsC,kBAAtC;AACA,SAASC,aAAT,QAA8B,cAA9B;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,UAAT,QAA2B,iBAA3B;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,OAAT,QAAwB,kBAAxB;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAC5B,QAAM;AAAEC,IAAAA;AAAF,MAAYR,SAAS,EAA3B;AACA,QAAM,CAACS,UAAD,IAAeN,WAAW,CAACC,UAAD,CAAhC;AACA,QAAMM,OAAO,GAAGT,UAAU,EAA1B;;AAEA,MAAIO,KAAJ,EAAW;AACTH,IAAAA,MAAM,CAAC;AAAEG,MAAAA;AAAF,KAAD,CAAN,CACGG,KADH,CACS;AAAEA,MAAAA,KAAK,EAAET;AAAT,KADT,EAEGU,IAFH,CAEQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAEC,QAAAA;AAAF;AAAR,KAAD,KAAsB;AAC1BL,MAAAA,UAAU,CAAC;AAAEM,QAAAA,SAAS,EAAE;AAAED,UAAAA;AAAF;AAAb,OAAD,CAAV;AACAJ,MAAAA,OAAO,CAACM,IAAR,CAAc,aAAYR,KAAM,EAAhC;AACD,KALH,EAMGS,KANH,CAMUC,MAAD,IAAY;AACjBR,MAAAA,OAAO,CAACM,IAAR,CAAc,gBAAeE,MAAM,CAACC,OAAQ,EAA5C;AACD,KARH;AASD;;AACD,sBAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CAjBM","sourcesContent":["import React from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { CURRENTUSERID } from \"../Gql/Query\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { ACTIVEUSER } from \"../Gql/Mutation\";\nimport Client from \"../Client\";\nimport { Loading } from \"./Shared/Loading\";\n\nexport const Activate = () => {\n  const { token } = useParams();\n  const [activeUser] = useMutation(ACTIVEUSER);\n  const history = useHistory();\n\n  if (token) {\n    Client({ token })\n      .query({ query: CURRENTUSERID })\n      .then(({ data: { id } }) => {\n        activeUser({ variables: { id } });\n        history.push(`/workshop/${token}`);\n      })\n      .catch((reason) => {\n        history.push(`/403?message=${reason.message}`);\n      });\n  }\n  return <Loading />;\n};\n"]},"metadata":{},"sourceType":"module"}